<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>ChibiOS/HAL: Generic Flash Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="custom.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ChibiOS/HAL
   &#160;<span id="projectnumber">8.2.0</span>
<script type="text/javascript"><!--
google_ad_client = "pub-3840594581853944";
/* Documentation, bottom, 728x90, created 9/19/10 */
google_ad_slot = "1902290615";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___h_a_l___f_l_a_s_h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">Generic Flash Interface<div class="ingroups"><a class="el" href="group___i_o.html">HAL</a> &raquo; <a class="el" href="group___h_a_l___a_b_s_t_r_a_c_t___p_e_r_i_p_h_e_r_a_l_s.html">Peripheral Interfaces</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>HAL Generic Flash Driver Interface.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Generic Flash Interface:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___h_a_l___f_l_a_s_h.png" border="0" alt="" usemap="#group______h__a__l______f__l__a__s__h"/>
<map name="group______h__a__l______f__l__a__s__h" id="group______h__a__l______f__l__a__s__h">
</map>
</td></tr></table></center>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>HAL Generic Flash Driver Interface. </p>
<h1><a class="anchor" id="flash_1"></a>
Driver State Machine</h1>
<p>The flash driver implements a state machine internally, not all the driver functionalities can be used in any moment, any transition not explicitly shown in the following diagram has to be considered an error and shall be captured by an assertion (if enabled). </p><div class="dotgraph">
</div>
 <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga00acc767b883feb6c461d07d9977d73a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga00acc767b883feb6c461d07d9977d73a">_base_flash_methods_alone</a></td></tr>
<tr class="memdesc:ga00acc767b883feb6c461d07d9977d73a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> specific methods.  <a href="#ga00acc767b883feb6c461d07d9977d73a">More...</a><br /></td></tr>
<tr class="separator:ga00acc767b883feb6c461d07d9977d73a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabd129adcac945a6057aee6728be2025c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#gabd129adcac945a6057aee6728be2025c">_base_flash_methods</a></td></tr>
<tr class="memdesc:gabd129adcac945a6057aee6728be2025c"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> specific methods with inherited ones.  <a href="#gabd129adcac945a6057aee6728be2025c">More...</a><br /></td></tr>
<tr class="separator:gabd129adcac945a6057aee6728be2025c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1cfc62a23c7ad69816ef1a7565faacea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga1cfc62a23c7ad69816ef1a7565faacea">_base_flash_data</a></td></tr>
<tr class="memdesc:ga1cfc62a23c7ad69816ef1a7565faacea"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> specific data.  <a href="#ga1cfc62a23c7ad69816ef1a7565faacea">More...</a><br /></td></tr>
<tr class="separator:ga1cfc62a23c7ad69816ef1a7565faacea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Flash attributes</h2></td></tr>
<tr class="memitem:gacd4930847a265169ad7c0b34e1f85e00"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#gacd4930847a265169ad7c0b34e1f85e00">FLASH_ATTR_ERASED_IS_ONE</a>&#160;&#160;&#160;0x00000001U</td></tr>
<tr class="memdesc:gacd4930847a265169ad7c0b34e1f85e00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines one as the erased bit state.  <a href="#gacd4930847a265169ad7c0b34e1f85e00">More...</a><br /></td></tr>
<tr class="separator:gacd4930847a265169ad7c0b34e1f85e00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga368bf864f62b57308a8a6a5cebaf6727"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga368bf864f62b57308a8a6a5cebaf6727">FLASH_ATTR_MEMORY_MAPPED</a>&#160;&#160;&#160;0x00000002U</td></tr>
<tr class="memdesc:ga368bf864f62b57308a8a6a5cebaf6727"><td class="mdescLeft">&#160;</td><td class="mdescRight">The memory is accessible in a memory mapped mode.  <a href="#ga368bf864f62b57308a8a6a5cebaf6727">More...</a><br /></td></tr>
<tr class="separator:ga368bf864f62b57308a8a6a5cebaf6727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e257206278a0324b6db7b03b51c244f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga6e257206278a0324b6db7b03b51c244f">FLASH_ATTR_REWRITABLE</a>&#160;&#160;&#160;0x00000004U</td></tr>
<tr class="memdesc:ga6e257206278a0324b6db7b03b51c244f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Programmed pages can be programmed again.  <a href="#ga6e257206278a0324b6db7b03b51c244f">More...</a><br /></td></tr>
<tr class="separator:ga6e257206278a0324b6db7b03b51c244f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23bd696a3fbdb718d1988ee343944e70"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga23bd696a3fbdb718d1988ee343944e70">FLASH_ATTR_ECC_CAPABLE</a>&#160;&#160;&#160;0x00000008U</td></tr>
<tr class="memdesc:ga23bd696a3fbdb718d1988ee343944e70"><td class="mdescLeft">&#160;</td><td class="mdescRight">The memory is protected by an ECC mechanism.  <a href="#ga23bd696a3fbdb718d1988ee343944e70">More...</a><br /></td></tr>
<tr class="separator:ga23bd696a3fbdb718d1988ee343944e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1d445b16ef8864ed41265d873d860ed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#gaf1d445b16ef8864ed41265d873d860ed">FLASH_ATTR_ECC_ZERO_LINE_CAPABLE</a>&#160;&#160;&#160;0x00000010U</td></tr>
<tr class="memdesc:gaf1d445b16ef8864ed41265d873d860ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">The device is able to overwrite zero to a line.  <a href="#gaf1d445b16ef8864ed41265d873d860ed">More...</a><br /></td></tr>
<tr class="separator:gaf1d445b16ef8864ed41265d873d860ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d89b3bb61ee0ae19e72dd7b9c66b1be"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga9d89b3bb61ee0ae19e72dd7b9c66b1be">FLASH_ATTR_SUSPEND_ERASE_CAPABLE</a>&#160;&#160;&#160;0x00000020U</td></tr>
<tr class="memdesc:ga9d89b3bb61ee0ae19e72dd7b9c66b1be"><td class="mdescLeft">&#160;</td><td class="mdescRight">The device is able to suspend erase operations.  <a href="#ga9d89b3bb61ee0ae19e72dd7b9c66b1be">More...</a><br /></td></tr>
<tr class="separator:ga9d89b3bb61ee0ae19e72dd7b9c66b1be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Macro Functions (BaseFlash)</h2></td></tr>
<tr class="memitem:ga2813d51d89b558a45b5117e434b6ecfc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga2813d51d89b558a45b5117e434b6ecfc">getBaseFlash</a>(ip)&#160;&#160;&#160;((<a class="el" href="struct_base_flash.html">BaseFlash</a> *)&amp;(ip)-&gt;vmt)</td></tr>
<tr class="memdesc:ga2813d51d89b558a45b5117e434b6ecfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance getter.  <a href="#ga2813d51d89b558a45b5117e434b6ecfc">More...</a><br /></td></tr>
<tr class="separator:ga2813d51d89b558a45b5117e434b6ecfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea1600f6efcb8c72d3e16ffccfd7f03a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#gaea1600f6efcb8c72d3e16ffccfd7f03a">flashGetDescriptor</a>(ip)&#160;&#160;&#160;(ip)-&gt;vmt-&gt;get_descriptor(ip)</td></tr>
<tr class="memdesc:gaea1600f6efcb8c72d3e16ffccfd7f03a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the flash descriptor structure.  <a href="#gaea1600f6efcb8c72d3e16ffccfd7f03a">More...</a><br /></td></tr>
<tr class="separator:gaea1600f6efcb8c72d3e16ffccfd7f03a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4cd17b0bd53628f8e625a35848c08676"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga4cd17b0bd53628f8e625a35848c08676">flashRead</a>(ip,  offset,  n,  rp)&#160;&#160;&#160;(ip)-&gt;vmt-&gt;read(ip, offset, n, rp)</td></tr>
<tr class="memdesc:ga4cd17b0bd53628f8e625a35848c08676"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read operation.  <a href="#ga4cd17b0bd53628f8e625a35848c08676">More...</a><br /></td></tr>
<tr class="separator:ga4cd17b0bd53628f8e625a35848c08676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2312eaaf5758805382532f10e3d92cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#gac2312eaaf5758805382532f10e3d92cb">flashProgram</a>(ip,  offset,  n,  pp)&#160;&#160;&#160;(ip)-&gt;vmt-&gt;program(ip, offset, n, pp)</td></tr>
<tr class="memdesc:gac2312eaaf5758805382532f10e3d92cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Program operation.  <a href="#gac2312eaaf5758805382532f10e3d92cb">More...</a><br /></td></tr>
<tr class="separator:gac2312eaaf5758805382532f10e3d92cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f27fcac4d90fe9319a69c911f8c3cf3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga2f27fcac4d90fe9319a69c911f8c3cf3">flashStartEraseAll</a>(ip)&#160;&#160;&#160;(ip)-&gt;vmt-&gt;start_erase_all(ip)</td></tr>
<tr class="memdesc:ga2f27fcac4d90fe9319a69c911f8c3cf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a whole-device erase operation.  <a href="#ga2f27fcac4d90fe9319a69c911f8c3cf3">More...</a><br /></td></tr>
<tr class="separator:ga2f27fcac4d90fe9319a69c911f8c3cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0821b8b38da67b504b046c07556d349a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga0821b8b38da67b504b046c07556d349a">flashStartEraseSector</a>(ip,  sector)&#160;&#160;&#160;(ip)-&gt;vmt-&gt;start_erase_sector(ip, sector)</td></tr>
<tr class="memdesc:ga0821b8b38da67b504b046c07556d349a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts an sector erase operation.  <a href="#ga0821b8b38da67b504b046c07556d349a">More...</a><br /></td></tr>
<tr class="separator:ga0821b8b38da67b504b046c07556d349a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5711c428a0a7422477209c9c9ae20db"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#gae5711c428a0a7422477209c9c9ae20db">flashQueryErase</a>(ip,  msec)&#160;&#160;&#160;(ip)-&gt;vmt-&gt;query_erase(ip, msec)</td></tr>
<tr class="memdesc:gae5711c428a0a7422477209c9c9ae20db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queries the driver for erase operation progress.  <a href="#gae5711c428a0a7422477209c9c9ae20db">More...</a><br /></td></tr>
<tr class="separator:gae5711c428a0a7422477209c9c9ae20db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d81d6125b4e390aa9b393a06ad71c3e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga7d81d6125b4e390aa9b393a06ad71c3e">flashVerifyErase</a>(ip,  sector)&#160;&#160;&#160;(ip)-&gt;vmt-&gt;verify_erase(ip, sector)</td></tr>
<tr class="memdesc:ga7d81d6125b4e390aa9b393a06ad71c3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the erase state of a sector.  <a href="#ga7d81d6125b4e390aa9b393a06ad71c3e">More...</a><br /></td></tr>
<tr class="separator:ga7d81d6125b4e390aa9b393a06ad71c3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga60d8c17713c707efa497130923db3ca3"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga60d8c17713c707efa497130923db3ca3">flash_offset_t</a></td></tr>
<tr class="memdesc:ga60d8c17713c707efa497130923db3ca3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a flash offset.  <a href="#ga60d8c17713c707efa497130923db3ca3">More...</a><br /></td></tr>
<tr class="separator:ga60d8c17713c707efa497130923db3ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga398f902be45dbe16c26d5a6474025f9a"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga398f902be45dbe16c26d5a6474025f9a">flash_sector_t</a></td></tr>
<tr class="memdesc:ga398f902be45dbe16c26d5a6474025f9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a flash sector number.  <a href="#ga398f902be45dbe16c26d5a6474025f9a">More...</a><br /></td></tr>
<tr class="separator:ga398f902be45dbe16c26d5a6474025f9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structflash__sector__descriptor__t.html">flash_sector_descriptor_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flash sector descriptor.  <a href="structflash__sector__descriptor__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structflash__descriptor__t.html">flash_descriptor_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a flash device descriptor.  <a href="structflash__descriptor__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_base_flash_v_m_t.html">BaseFlashVMT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> virtual methods table.  <a href="struct_base_flash_v_m_t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_base_flash.html">BaseFlash</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base flash class.  <a href="struct_base_flash.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3ba50a0a82736331f5747567a3deceb3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga9ecf20ce69fb991dd0a6283584a2e8b1">flash_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga3ba50a0a82736331f5747567a3deceb3">flashWaitErase</a> (<a class="el" href="struct_base_flash.html">BaseFlash</a> *devp)</td></tr>
<tr class="memdesc:ga3ba50a0a82736331f5747567a3deceb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits until the current erase operation is finished.  <a href="#ga3ba50a0a82736331f5747567a3deceb3">More...</a><br /></td></tr>
<tr class="separator:ga3ba50a0a82736331f5747567a3deceb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a733f0f77fe2b2c06095abe77c17f05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga60d8c17713c707efa497130923db3ca3">flash_offset_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga1a733f0f77fe2b2c06095abe77c17f05">flashGetSectorOffset</a> (<a class="el" href="struct_base_flash.html">BaseFlash</a> *devp, <a class="el" href="group___h_a_l___f_l_a_s_h.html#ga398f902be45dbe16c26d5a6474025f9a">flash_sector_t</a> sector)</td></tr>
<tr class="memdesc:ga1a733f0f77fe2b2c06095abe77c17f05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the offset of a sector.  <a href="#ga1a733f0f77fe2b2c06095abe77c17f05">More...</a><br /></td></tr>
<tr class="separator:ga1a733f0f77fe2b2c06095abe77c17f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b773cc6b231781fffd4da964a656fef"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga1b773cc6b231781fffd4da964a656fef">flashGetSectorSize</a> (<a class="el" href="struct_base_flash.html">BaseFlash</a> *devp, <a class="el" href="group___h_a_l___f_l_a_s_h.html#ga398f902be45dbe16c26d5a6474025f9a">flash_sector_t</a> sector)</td></tr>
<tr class="memdesc:ga1b773cc6b231781fffd4da964a656fef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of a sector.  <a href="#ga1b773cc6b231781fffd4da964a656fef">More...</a><br /></td></tr>
<tr class="separator:ga1b773cc6b231781fffd4da964a656fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga5a1ced436e00b89881510e734c5b21e5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga5a1ced436e00b89881510e734c5b21e5">flash_state_t</a> <tr class="memdesc:ga5a1ced436e00b89881510e734c5b21e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver state machine possible states.  <a href="group___h_a_l___f_l_a_s_h.html#ga5a1ced436e00b89881510e734c5b21e5">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga5a1ced436e00b89881510e734c5b21e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ecf20ce69fb991dd0a6283584a2e8b1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga9ecf20ce69fb991dd0a6283584a2e8b1">flash_error_t</a> <tr class="memdesc:ga9ecf20ce69fb991dd0a6283584a2e8b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a flash error code.  <a href="group___h_a_l___f_l_a_s_h.html#ga9ecf20ce69fb991dd0a6283584a2e8b1">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga9ecf20ce69fb991dd0a6283584a2e8b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gacd4930847a265169ad7c0b34e1f85e00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd4930847a265169ad7c0b34e1f85e00">&#9670;&nbsp;</a></span>FLASH_ATTR_ERASED_IS_ONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_ATTR_ERASED_IS_ONE&#160;&#160;&#160;0x00000001U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines one as the erased bit state. </p>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00039">39</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<a id="ga368bf864f62b57308a8a6a5cebaf6727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga368bf864f62b57308a8a6a5cebaf6727">&#9670;&nbsp;</a></span>FLASH_ATTR_MEMORY_MAPPED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_ATTR_MEMORY_MAPPED&#160;&#160;&#160;0x00000002U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The memory is accessible in a memory mapped mode. </p>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00043">43</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<a id="ga6e257206278a0324b6db7b03b51c244f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e257206278a0324b6db7b03b51c244f">&#9670;&nbsp;</a></span>FLASH_ATTR_REWRITABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_ATTR_REWRITABLE&#160;&#160;&#160;0x00000004U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Programmed pages can be programmed again. </p>
<dl class="section note"><dt>Note</dt><dd>This is incompatible and alternative to <code>FLASH_ATTR_ECC_CAPABLE</code>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00048">48</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<a id="ga23bd696a3fbdb718d1988ee343944e70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga23bd696a3fbdb718d1988ee343944e70">&#9670;&nbsp;</a></span>FLASH_ATTR_ECC_CAPABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_ATTR_ECC_CAPABLE&#160;&#160;&#160;0x00000008U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The memory is protected by an ECC mechanism. </p>
<dl class="section note"><dt>Note</dt><dd>This usually puts restrictions on the program operations.<ul>
<li>Program operations can only happen at offsets aligned to write page boundaries.</li>
<li>The programmed data size must be a multiple of the write page size.</li>
<li>Programmed pages cannot be re-programmed.</li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00059">59</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<a id="gaf1d445b16ef8864ed41265d873d860ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf1d445b16ef8864ed41265d873d860ed">&#9670;&nbsp;</a></span>FLASH_ATTR_ECC_ZERO_LINE_CAPABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_ATTR_ECC_ZERO_LINE_CAPABLE&#160;&#160;&#160;0x00000010U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The device is able to overwrite zero to a line. </p>
<dl class="section note"><dt>Note</dt><dd>This attribute is only meaningful for those devices that support ECC, so also <code>FLASH_ATTR_ECC_CAPABLE</code> must be specified. </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00065">65</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<a id="ga9d89b3bb61ee0ae19e72dd7b9c66b1be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9d89b3bb61ee0ae19e72dd7b9c66b1be">&#9670;&nbsp;</a></span>FLASH_ATTR_SUSPEND_ERASE_CAPABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_ATTR_SUSPEND_ERASE_CAPABLE&#160;&#160;&#160;0x00000020U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The device is able to suspend erase operations. </p>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00069">69</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<a id="ga00acc767b883feb6c461d07d9977d73a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00acc767b883feb6c461d07d9977d73a">&#9670;&nbsp;</a></span>_base_flash_methods_alone</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _base_flash_methods_alone</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="comment">/* Get flash device attributes.*/</span>                                         \</div><div class="line">  const <a class="code" href="structflash__descriptor__t.html">flash_descriptor_t</a> * (*get_descriptor)(<span class="keywordtype">void</span> *instance);             \</div><div class="line">  <span class="comment">/* Read operation.*/</span>                                                      \</div><div class="line">  flash_error_t (*read)(<span class="keywordtype">void</span> *instance, <a class="code" href="group___h_a_l___f_l_a_s_h.html#ga60d8c17713c707efa497130923db3ca3">flash_offset_t</a> offset,              \</div><div class="line">                        size_t n, uint8_t *rp);                             \</div><div class="line">  <span class="comment">/* Program operation.*/</span>                                                   \</div><div class="line">  flash_error_t (*program)(<span class="keywordtype">void</span> *instance, <a class="code" href="group___h_a_l___f_l_a_s_h.html#ga60d8c17713c707efa497130923db3ca3">flash_offset_t</a> offset,           \</div><div class="line">                           size_t n, <span class="keyword">const</span> uint8_t *pp);                    \</div><div class="line">  <span class="comment">/* Erase whole flash device.*/</span>                                            \</div><div class="line">  flash_error_t (*start_erase_all)(<span class="keywordtype">void</span> *instance);                         \</div><div class="line">  <span class="comment">/* Erase single sector.*/</span>                                                 \</div><div class="line">  flash_error_t (*start_erase_sector)(<span class="keywordtype">void</span> *instance,                       \</div><div class="line">                                      flash_sector_t sector);               \</div><div class="line">  flash_error_t (*query_erase)(<span class="keywordtype">void</span> *instance, uint32_t *wait_time);        \</div><div class="line">  <span class="comment">/* Verify erase single sector.*/</span>                                          \</div><div class="line">  flash_error_t (*verify_erase)(<span class="keywordtype">void</span> *instance, <a class="code" href="group___h_a_l___f_l_a_s_h.html#ga398f902be45dbe16c26d5a6474025f9a">flash_sector_t</a> sector);</div><div class="ttc" id="group___h_a_l___f_l_a_s_h_html_ga398f902be45dbe16c26d5a6474025f9a"><div class="ttname"><a href="group___h_a_l___f_l_a_s_h.html#ga398f902be45dbe16c26d5a6474025f9a">flash_sector_t</a></div><div class="ttdeci">uint32_t flash_sector_t</div><div class="ttdoc">Type of a flash sector number. </div><div class="ttdef"><b>Definition:</b> <a href="hal__flash_8h_source.html#l00118">hal_flash.h:118</a></div></div>
<div class="ttc" id="structflash__descriptor__t_html"><div class="ttname"><a href="structflash__descriptor__t.html">flash_descriptor_t</a></div><div class="ttdoc">Type of a flash device descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="hal__flash_8h_source.html#l00137">hal_flash.h:137</a></div></div>
<div class="ttc" id="group___h_a_l___f_l_a_s_h_html_ga60d8c17713c707efa497130923db3ca3"><div class="ttname"><a href="group___h_a_l___f_l_a_s_h.html#ga60d8c17713c707efa497130923db3ca3">flash_offset_t</a></div><div class="ttdeci">uint32_t flash_offset_t</div><div class="ttdoc">Type of a flash offset. </div><div class="ttdef"><b>Definition:</b> <a href="hal__flash_8h_source.html#l00113">hal_flash.h:113</a></div></div>
</div><!-- fragment -->
<p><code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> specific methods. </p>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00176">176</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<a id="gabd129adcac945a6057aee6728be2025c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabd129adcac945a6057aee6728be2025c">&#9670;&nbsp;</a></span>_base_flash_methods</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _base_flash_methods</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_base_object_methods                                                      \</div><div class="line">  _base_flash_methods_alone</div></div><!-- fragment -->
<p><code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> specific methods with inherited ones. </p>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00197">197</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<a id="ga1cfc62a23c7ad69816ef1a7565faacea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1cfc62a23c7ad69816ef1a7565faacea">&#9670;&nbsp;</a></span>_base_flash_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _base_flash_data</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="group___h_a_l___b_a_s_e___o_b_j_e_c_t.html#gab581e6d9e9ca006742f1e65eaec8dd42">_base_object_data</a>                                                         \</div><div class="line">  <span class="comment">/* Driver state.*/</span>                                                        \</div><div class="line">  flash_state_t         state;</div><div class="ttc" id="group___h_a_l___b_a_s_e___o_b_j_e_c_t_html_gab581e6d9e9ca006742f1e65eaec8dd42"><div class="ttname"><a href="group___h_a_l___b_a_s_e___o_b_j_e_c_t.html#gab581e6d9e9ca006742f1e65eaec8dd42">_base_object_data</a></div><div class="ttdeci">#define _base_object_data</div><div class="ttdoc">BaseObject specific data. </div><div class="ttdef"><b>Definition:</b> <a href="hal__objects_8h_source.html#l00049">hal_objects.h:49</a></div></div>
</div><!-- fragment -->
<p><code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> specific data. </p>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00211">211</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<a id="ga2813d51d89b558a45b5117e434b6ecfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2813d51d89b558a45b5117e434b6ecfc">&#9670;&nbsp;</a></span>getBaseFlash</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define getBaseFlash</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ip</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="struct_base_flash.html">BaseFlash</a> *)&amp;(ip)-&gt;vmt)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instance getter. </p>
<p>This special method is used to get the instance of this class object from a derived class. </p>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00240">240</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<a id="gaea1600f6efcb8c72d3e16ffccfd7f03a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea1600f6efcb8c72d3e16ffccfd7f03a">&#9670;&nbsp;</a></span>flashGetDescriptor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define flashGetDescriptor</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ip</td><td>)</td>
          <td>&#160;&#160;&#160;(ip)-&gt;vmt-&gt;get_descriptor(ip)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the flash descriptor structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ip</td><td>pointer to a <code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> or derived class </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A flash device descriptor.</dd></dl>
<dl class="section user"><dt>Function Class:^^Normal API, this function can be invoked by regular system threads but not from within a lock zone.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00250">250</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="group___h_a_l___f_l_a_s_h.html#ga1a733f0f77fe2b2c06095abe77c17f05">flashGetSectorOffset()</a>, and <a class="el" href="group___h_a_l___f_l_a_s_h.html#ga1b773cc6b231781fffd4da964a656fef">flashGetSectorSize()</a>.</p>

</div>
</div>
<a id="ga4cd17b0bd53628f8e625a35848c08676"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4cd17b0bd53628f8e625a35848c08676">&#9670;&nbsp;</a></span>flashRead</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define flashRead</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ip, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">offset, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rp&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(ip)-&gt;vmt-&gt;read(ip, offset, n, rp)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ip</td><td>pointer to a <code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> or derived class </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>flash offset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>number of bytes to be read </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rp</td><td>pointer to the data buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FLASH_NO_ERROR</td><td>if there is no erase operation in progress. </td></tr>
    <tr><td class="paramname">FLASH_BUSY_ERASING</td><td>if there is an erase operation in progress. </td></tr>
    <tr><td class="paramname">FLASH_ERROR_READ</td><td>if the read operation failed. </td></tr>
    <tr><td class="paramname">FLASH_ERROR_HW_FAILURE</td><td>if access to the memory failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Normal API, this function can be invoked by regular system threads but not from within a lock zone.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00268">268</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="group___h_a_l___m_f_s.html#gabfee0e57611e55ed09ad89610b9ffdfd">mfs_flash_read()</a>.</p>

</div>
</div>
<a id="gac2312eaaf5758805382532f10e3d92cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac2312eaaf5758805382532f10e3d92cb">&#9670;&nbsp;</a></span>flashProgram</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define flashProgram</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ip, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">offset, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pp&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(ip)-&gt;vmt-&gt;program(ip, offset, n, pp)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Program operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ip</td><td>pointer to a <code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> or derived class </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>flash offset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>number of bytes to be programmed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pp</td><td>pointer to the data buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FLASH_NO_ERROR</td><td>if there is no erase operation in progress. </td></tr>
    <tr><td class="paramname">FLASH_BUSY_ERASING</td><td>if there is an erase operation in progress. </td></tr>
    <tr><td class="paramname">FLASH_ERROR_PROGRAM</td><td>if the program operation failed. </td></tr>
    <tr><td class="paramname">FLASH_ERROR_HW_FAILURE</td><td>if access to the memory failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Normal API, this function can be invoked by regular system threads but not from within a lock zone.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00286">286</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="group___h_a_l___m_f_s.html#ga7ff7f938edf6fc7d7568dff18696ce7c">mfs_flash_write()</a>.</p>

</div>
</div>
<a id="ga2f27fcac4d90fe9319a69c911f8c3cf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2f27fcac4d90fe9319a69c911f8c3cf3">&#9670;&nbsp;</a></span>flashStartEraseAll</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define flashStartEraseAll</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ip</td><td>)</td>
          <td>&#160;&#160;&#160;(ip)-&gt;vmt-&gt;start_erase_all(ip)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a whole-device erase operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ip</td><td>pointer to a <code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> or derived class </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FLASH_NO_ERROR</td><td>if there is no erase operation in progress. </td></tr>
    <tr><td class="paramname">FLASH_BUSY_ERASING</td><td>if there is an erase operation in progress. </td></tr>
    <tr><td class="paramname">FLASH_ERROR_HW_FAILURE</td><td>if access to the memory failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Normal API, this function can be invoked by regular system threads but not from within a lock zone.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00300">300</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<a id="ga0821b8b38da67b504b046c07556d349a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0821b8b38da67b504b046c07556d349a">&#9670;&nbsp;</a></span>flashStartEraseSector</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define flashStartEraseSector</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ip, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sector&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(ip)-&gt;vmt-&gt;start_erase_sector(ip, sector)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts an sector erase operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ip</td><td>pointer to a <code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> or derived class </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sector</td><td>sector to be erased </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FLASH_NO_ERROR</td><td>if there is no erase operation in progress. </td></tr>
    <tr><td class="paramname">FLASH_BUSY_ERASING</td><td>if there is an erase operation in progress. </td></tr>
    <tr><td class="paramname">FLASH_ERROR_HW_FAILURE</td><td>if access to the memory failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Normal API, this function can be invoked by regular system threads but not from within a lock zone.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00315">315</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<a id="gae5711c428a0a7422477209c9c9ae20db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae5711c428a0a7422477209c9c9ae20db">&#9670;&nbsp;</a></span>flashQueryErase</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define flashQueryErase</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ip, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msec&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(ip)-&gt;vmt-&gt;query_erase(ip, msec)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queries the driver for erase operation progress. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ip</td><td>pointer to a <code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> or derived class </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">msec</td><td>recommended time, in milliseconds, that should be spent before calling this function again, can be <code>NULL</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FLASH_NO_ERROR</td><td>if there is no erase operation in progress. </td></tr>
    <tr><td class="paramname">FLASH_BUSY_ERASING</td><td>if there is an erase operation in progress. </td></tr>
    <tr><td class="paramname">FLASH_ERROR_ERASE</td><td>if the erase operation failed. </td></tr>
    <tr><td class="paramname">FLASH_ERROR_HW_FAILURE</td><td>if access to the memory failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Normal API, this function can be invoked by regular system threads but not from within a lock zone.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00333">333</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="group___h_a_l___f_l_a_s_h.html#ga3ba50a0a82736331f5747567a3deceb3">flashWaitErase()</a>.</p>

</div>
</div>
<a id="ga7d81d6125b4e390aa9b393a06ad71c3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d81d6125b4e390aa9b393a06ad71c3e">&#9670;&nbsp;</a></span>flashVerifyErase</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define flashVerifyErase</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ip, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sector&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(ip)-&gt;vmt-&gt;verify_erase(ip, sector)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the erase state of a sector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ip</td><td>pointer to a <code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> or derived class </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sector</td><td>sector to be verified </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FLASH_NO_ERROR</td><td>if the sector is erased. </td></tr>
    <tr><td class="paramname">FLASH_BUSY_ERASING</td><td>if there is an erase operation in progress. </td></tr>
    <tr><td class="paramname">FLASH_ERROR_VERIFY</td><td>if the verify operation failed. </td></tr>
    <tr><td class="paramname">FLASH_ERROR_HW_FAILURE</td><td>if access to the memory failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Normal API, this function can be invoked by regular system threads but not from within a lock zone.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00349">349</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga60d8c17713c707efa497130923db3ca3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga60d8c17713c707efa497130923db3ca3">&#9670;&nbsp;</a></span>flash_offset_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group___h_a_l___f_l_a_s_h.html#ga60d8c17713c707efa497130923db3ca3">flash_offset_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a flash offset. </p>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00113">113</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<a id="ga398f902be45dbe16c26d5a6474025f9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga398f902be45dbe16c26d5a6474025f9a">&#9670;&nbsp;</a></span>flash_sector_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group___h_a_l___f_l_a_s_h.html#ga398f902be45dbe16c26d5a6474025f9a">flash_sector_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a flash sector number. </p>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00118">118</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga5a1ced436e00b89881510e734c5b21e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a1ced436e00b89881510e734c5b21e5">&#9670;&nbsp;</a></span>flash_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___h_a_l___f_l_a_s_h.html#ga5a1ced436e00b89881510e734c5b21e5">flash_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Driver state machine possible states. </p>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00087">87</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<a id="ga9ecf20ce69fb991dd0a6283584a2e8b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ecf20ce69fb991dd0a6283584a2e8b1">&#9670;&nbsp;</a></span>flash_error_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___h_a_l___f_l_a_s_h.html#ga9ecf20ce69fb991dd0a6283584a2e8b1">flash_error_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a flash error code. </p>

<p class="definition">Definition at line <a class="el" href="hal__flash_8h_source.html#l00099">99</a> of file <a class="el" href="hal__flash_8h_source.html">hal_flash.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3ba50a0a82736331f5747567a3deceb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ba50a0a82736331f5747567a3deceb3">&#9670;&nbsp;</a></span>flashWaitErase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga9ecf20ce69fb991dd0a6283584a2e8b1">flash_error_t</a> flashWaitErase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_base_flash.html">BaseFlash</a> *&#160;</td>
          <td class="paramname"><em>devp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits until the current erase operation is finished. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">devp</td><td>pointer to a <code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FLASH_NO_ERROR</td><td>if there is no erase operation in progress. </td></tr>
    <tr><td class="paramname">FLASH_ERROR_ERASE</td><td>if the erase operation failed. </td></tr>
    <tr><td class="paramname">FLASH_ERROR_HW_FAILURE</td><td>if access to the memory failed. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hal__flash_8c_source.html#l00059">59</a> of file <a class="el" href="hal__flash_8c_source.html">hal_flash.c</a>.</p>

<p class="reference">References <a class="el" href="group___h_a_l___f_l_a_s_h.html#gae5711c428a0a7422477209c9c9ae20db">flashQueryErase</a>.</p>

</div>
</div>
<a id="ga1a733f0f77fe2b2c06095abe77c17f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a733f0f77fe2b2c06095abe77c17f05">&#9670;&nbsp;</a></span>flashGetSectorOffset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga60d8c17713c707efa497130923db3ca3">flash_offset_t</a> flashGetSectorOffset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_base_flash.html">BaseFlash</a> *&#160;</td>
          <td class="paramname"><em>devp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga398f902be45dbe16c26d5a6474025f9a">flash_sector_t</a>&#160;</td>
          <td class="paramname"><em>sector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the offset of a sector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">devp</td><td>pointer to a <code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sector</td><td>flash sector number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the offset of the sector </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__flash_8c_source.html#l00084">84</a> of file <a class="el" href="hal__flash_8c_source.html">hal_flash.c</a>.</p>

<p class="reference">References <a class="el" href="group___h_a_l___f_l_a_s_h.html#gaea1600f6efcb8c72d3e16ffccfd7f03a">flashGetDescriptor</a>, <a class="el" href="structflash__sector__descriptor__t.html#a8f142b0d91eb5bd2732927d27cb91e13">flash_sector_descriptor_t::offset</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="structflash__descriptor__t.html#a0fb013624b35f959f52ce955d4ac6f05">flash_descriptor_t::sectors</a>, and <a class="el" href="structflash__descriptor__t.html#a6c979b5b0cfe5faf77fcba62a535afdd">flash_descriptor_t::sectors_size</a>.</p>

</div>
</div>
<a id="ga1b773cc6b231781fffd4da964a656fef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b773cc6b231781fffd4da964a656fef">&#9670;&nbsp;</a></span>flashGetSectorSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t flashGetSectorSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_base_flash.html">BaseFlash</a> *&#160;</td>
          <td class="paramname"><em>devp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___h_a_l___f_l_a_s_h.html#ga398f902be45dbe16c26d5a6474025f9a">flash_sector_t</a>&#160;</td>
          <td class="paramname"><em>sector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size of a sector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">devp</td><td>pointer to a <code><a class="el" href="struct_base_flash.html" title="Base flash class. ">BaseFlash</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sector</td><td>flash sector number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the size of the sector </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__flash_8c_source.html#l00109">109</a> of file <a class="el" href="hal__flash_8c_source.html">hal_flash.c</a>.</p>

<p class="reference">References <a class="el" href="group___h_a_l___f_l_a_s_h.html#gaea1600f6efcb8c72d3e16ffccfd7f03a">flashGetDescriptor</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="structflash__descriptor__t.html#a0fb013624b35f959f52ce955d4ac6f05">flash_descriptor_t::sectors</a>, <a class="el" href="structflash__descriptor__t.html#a6c979b5b0cfe5faf77fcba62a535afdd">flash_descriptor_t::sectors_size</a>, and <a class="el" href="structflash__sector__descriptor__t.html#ad9b01a4df0837328e5daff43db7bee79">flash_sector_descriptor_t::size</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Mar 3 2022 18:14:25 for ChibiOS/HAL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
