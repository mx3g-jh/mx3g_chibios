<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>ChibiOS/HAL: SPIv2 Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="custom.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ChibiOS/HAL
   &#160;<span id="projectnumber">8.2.0</span>
<script type="text/javascript"><!--
google_ad_client = "pub-3840594581853944";
/* Documentation, bottom, 728x90, created 9/19/10 */
google_ad_slot = "1902290615";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___s_p_i___v2.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">SPIv2 Driver<div class="ingroups"><a class="el" href="group___i_o.html">HAL</a> &raquo; <a class="el" href="group___h_a_l___n_o_r_m_a_l___d_r_i_v_e_r_s.html">Normal Drivers</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Generic SPI Driver.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for SPIv2 Driver:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___s_p_i___v2.png" border="0" alt="" usemap="#group______s__p__i______v2"/>
<map name="group______s__p__i______v2" id="group______s__p__i______v2">
</map>
</td></tr></table></center>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Generic SPI Driver. </p>
<p>This module implements a generic SPI (Serial Peripheral Interface) driver allowing bidirectional and monodirectional transfers, complex atomic transactions are supported as well. </p><dl class="section pre"><dt>Precondition</dt><dd>In order to use the SPI driver the <code>HAL_USE_SPI</code> option must be enabled in <code><a class="el" href="halconf_8h.html" title="HAL configuration header. ">halconf.h</a></code>.</dd></dl>
<h1><a class="anchor" id="spi_v2_1"></a>
Driver State Machine</h1>
<p>The driver implements a state machine internally, not all the driver functionalities can be used in any moment, any transition not explicitly shown in the following diagram has to be considered an error and shall be captured by an assertion (if enabled). </p><div class="dotgraph">
</div>
<p>The driver is not thread safe for performance reasons, if you need to access the SPI bus from multiple threads then use the <code>spiAcquireBus()</code> and <code>spiReleaseBus()</code> APIs in order to gain exclusive access. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gad5658f8f57e1afda65980bbe74f609bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#gad5658f8f57e1afda65980bbe74f609bf">SPI_SUPPORTS_CIRCULAR</a>&#160;&#160;&#160;TRUE</td></tr>
<tr class="memdesc:gad5658f8f57e1afda65980bbe74f609bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Circular mode support flag.  <a href="#gad5658f8f57e1afda65980bbe74f609bf">More...</a><br /></td></tr>
<tr class="separator:gad5658f8f57e1afda65980bbe74f609bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6216f65f528c11208a3a200f5e09aaf4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga6216f65f528c11208a3a200f5e09aaf4">SPI_SUPPORTS_SLAVE_MODE</a>&#160;&#160;&#160;TRUE</td></tr>
<tr class="memdesc:ga6216f65f528c11208a3a200f5e09aaf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Slave mode support flag.  <a href="#ga6216f65f528c11208a3a200f5e09aaf4">More...</a><br /></td></tr>
<tr class="separator:ga6216f65f528c11208a3a200f5e09aaf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2fcbecd2001068310c16ec54eb9a503f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga2fcbecd2001068310c16ec54eb9a503f">spi_lld_driver_fields</a></td></tr>
<tr class="memdesc:ga2fcbecd2001068310c16ec54eb9a503f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low level fields of the SPI driver structure.  <a href="#ga2fcbecd2001068310c16ec54eb9a503f">More...</a><br /></td></tr>
<tr class="separator:ga2fcbecd2001068310c16ec54eb9a503f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f7e91c332b829b49f292ca2d2a5248f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga6f7e91c332b829b49f292ca2d2a5248f">spi_lld_config_fields</a></td></tr>
<tr class="memdesc:ga6f7e91c332b829b49f292ca2d2a5248f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low level fields of the SPI configuration structure.  <a href="#ga6f7e91c332b829b49f292ca2d2a5248f">More...</a><br /></td></tr>
<tr class="separator:ga6f7e91c332b829b49f292ca2d2a5248f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Chip Select modes</h2></td></tr>
<tr class="memitem:gacafa5c8ecfbe7f15ec2f8044488d9f36"><td class="memItemLeft" align="right" valign="top"><a id="gacafa5c8ecfbe7f15ec2f8044488d9f36"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPI_SELECT_MODE_NONE</b></td></tr>
<tr class="separator:gacafa5c8ecfbe7f15ec2f8044488d9f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0689a9d6c167be6c2cc9d71081d10ad"><td class="memItemLeft" align="right" valign="top"><a id="gae0689a9d6c167be6c2cc9d71081d10ad"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPI_SELECT_MODE_PAD</b>&#160;&#160;&#160;1   /** @brief Legacy mode.     */</td></tr>
<tr class="separator:gae0689a9d6c167be6c2cc9d71081d10ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e9ad3e4400f17c323730793c9731034"><td class="memItemLeft" align="right" valign="top"><a id="ga9e9ad3e4400f17c323730793c9731034"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPI_SELECT_MODE_PORT</b>&#160;&#160;&#160;2   /** @brief Fastest mode.    */</td></tr>
<tr class="separator:ga9e9ad3e4400f17c323730793c9731034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76e645694e445c3e7ca344600fdbfa16"><td class="memItemLeft" align="right" valign="top"><a id="ga76e645694e445c3e7ca344600fdbfa16"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPI_SELECT_MODE_LINE</b>&#160;&#160;&#160;3   /** @brief Packed mode.     */</td></tr>
<tr class="separator:ga76e645694e445c3e7ca344600fdbfa16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad575b706309e1dd122442764d1d312d6"><td class="memItemLeft" align="right" valign="top"><a id="gad575b706309e1dd122442764d1d312d6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPI_SELECT_MODE_LLD</b>&#160;&#160;&#160;4   /** @brief LLD-defined mode.*/</td></tr>
<tr class="separator:gad575b706309e1dd122442764d1d312d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
SPI configuration options</h2></td></tr>
<tr class="memitem:ga1fa10aaaf73f16e11092797153120bf8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga1fa10aaaf73f16e11092797153120bf8">SPI_USE_SYNCHRONIZATION</a>&#160;&#160;&#160;FALSE</td></tr>
<tr class="memdesc:ga1fa10aaaf73f16e11092797153120bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Support for thread synchronization API.  <a href="#ga1fa10aaaf73f16e11092797153120bf8">More...</a><br /></td></tr>
<tr class="separator:ga1fa10aaaf73f16e11092797153120bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24f1e6c4916a04f70e268c594faaa227"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga24f1e6c4916a04f70e268c594faaa227">SPI_USE_ASSERT_ON_ERROR</a>&#160;&#160;&#160;TRUE</td></tr>
<tr class="memdesc:ga24f1e6c4916a04f70e268c594faaa227"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts an assertion on function errors before returning.  <a href="#ga24f1e6c4916a04f70e268c594faaa227">More...</a><br /></td></tr>
<tr class="separator:ga24f1e6c4916a04f70e268c594faaa227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36d1818f9631f955f7cc94629b1d5498"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga36d1818f9631f955f7cc94629b1d5498">SPI_USE_MUTUAL_EXCLUSION</a>&#160;&#160;&#160;TRUE</td></tr>
<tr class="memdesc:ga36d1818f9631f955f7cc94629b1d5498"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the <code>spiAcquireBus()</code> and <code>spiReleaseBus()</code> APIs.  <a href="#ga36d1818f9631f955f7cc94629b1d5498">More...</a><br /></td></tr>
<tr class="separator:ga36d1818f9631f955f7cc94629b1d5498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc1c76adbcd61b596f7af3c5448534a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#gabc1c76adbcd61b596f7af3c5448534a7">SPI_SELECT_MODE</a>&#160;&#160;&#160;SPI_SELECT_MODE_PAD</td></tr>
<tr class="memdesc:gabc1c76adbcd61b596f7af3c5448534a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handling method for SPI CS line.  <a href="#gabc1c76adbcd61b596f7af3c5448534a7">More...</a><br /></td></tr>
<tr class="separator:gabc1c76adbcd61b596f7af3c5448534a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Macro Functions</h2></td></tr>
<tr class="memitem:gaf074137302f28c85cd2adca27bb44d7d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#gaf074137302f28c85cd2adca27bb44d7d">spiIsBufferComplete</a>(spip)&#160;&#160;&#160;((bool)((spip)-&gt;state == <a class="el" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3adc675db1e74eaa1fc21d005d2a066d8f">SPI_COMPLETE</a>))</td></tr>
<tr class="memdesc:gaf074137302f28c85cd2adca27bb44d7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer state.  <a href="#gaf074137302f28c85cd2adca27bb44d7d">More...</a><br /></td></tr>
<tr class="separator:gaf074137302f28c85cd2adca27bb44d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafaa8525872ee8cd58ccb3ae6d6f4ce4f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#gafaa8525872ee8cd58ccb3ae6d6f4ce4f">spiSelectI</a>(spip)</td></tr>
<tr class="memdesc:gafaa8525872ee8cd58ccb3ae6d6f4ce4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asserts the slave select signal and prepares for transfers.  <a href="#gafaa8525872ee8cd58ccb3ae6d6f4ce4f">More...</a><br /></td></tr>
<tr class="separator:gafaa8525872ee8cd58ccb3ae6d6f4ce4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga033bf19dba2a6f9d6354bb0240e08a60"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga033bf19dba2a6f9d6354bb0240e08a60">spiUnselectI</a>(spip)</td></tr>
<tr class="memdesc:ga033bf19dba2a6f9d6354bb0240e08a60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deasserts the slave select signal.  <a href="#ga033bf19dba2a6f9d6354bb0240e08a60">More...</a><br /></td></tr>
<tr class="separator:ga033bf19dba2a6f9d6354bb0240e08a60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac372dee6712ea111c1ffabd7ae79908d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#gac372dee6712ea111c1ffabd7ae79908d">spiPolledExchange</a>(spip,  frame)&#160;&#160;&#160;<a class="el" href="group___s_p_i___v2.html#gad0e1f3dae4d7015a8386c456a06adc86">spi_lld_polled_exchange</a>(spip, frame)</td></tr>
<tr class="memdesc:gac372dee6712ea111c1ffabd7ae79908d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exchanges one frame using a polled wait.  <a href="#gac372dee6712ea111c1ffabd7ae79908d">More...</a><br /></td></tr>
<tr class="separator:gac372dee6712ea111c1ffabd7ae79908d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8991f2c7a60f341649049de12e7e8a29"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga8991f2c7a60f341649049de12e7e8a29">spiAbortI</a>(spip)&#160;&#160;&#160;spiStopTransferI(spip, NULL)</td></tr>
<tr class="memdesc:ga8991f2c7a60f341649049de12e7e8a29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compatibility API with SPI driver v1.  <a href="#ga8991f2c7a60f341649049de12e7e8a29">More...</a><br /></td></tr>
<tr class="separator:ga8991f2c7a60f341649049de12e7e8a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47f04ac40972def8e20c4b62393b37d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga47f04ac40972def8e20c4b62393b37d8">spiAbort</a>(spip)&#160;&#160;&#160;spiStopTransfer(spip, NULL)</td></tr>
<tr class="memdesc:ga47f04ac40972def8e20c4b62393b37d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compatibility API with SPI driver v1.  <a href="#ga47f04ac40972def8e20c4b62393b37d8">More...</a><br /></td></tr>
<tr class="separator:ga47f04ac40972def8e20c4b62393b37d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Low level driver helper macros</h2></td></tr>
<tr class="memitem:ga39bef3257e2f45227bd45d377306cc3b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga39bef3257e2f45227bd45d377306cc3b">__spi_wakeup_isr</a>(spip,  msg)</td></tr>
<tr class="memdesc:ga39bef3257e2f45227bd45d377306cc3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wakes up the waiting thread.  <a href="#ga39bef3257e2f45227bd45d377306cc3b">More...</a><br /></td></tr>
<tr class="separator:ga39bef3257e2f45227bd45d377306cc3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga096dc303583886fbd1ba9f2322ac4ed2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga096dc303583886fbd1ba9f2322ac4ed2">__spi_isr_complete_code</a>(spip)</td></tr>
<tr class="memdesc:ga096dc303583886fbd1ba9f2322ac4ed2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common ISR code in linear mode.  <a href="#ga096dc303583886fbd1ba9f2322ac4ed2">More...</a><br /></td></tr>
<tr class="separator:ga096dc303583886fbd1ba9f2322ac4ed2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72ef23301db126a902f93407336b5b86"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga72ef23301db126a902f93407336b5b86">__spi_isr_half_code</a>(spip)</td></tr>
<tr class="memdesc:ga72ef23301db126a902f93407336b5b86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Half buffer filled ISR code in circular mode.  <a href="#ga72ef23301db126a902f93407336b5b86">More...</a><br /></td></tr>
<tr class="separator:ga72ef23301db126a902f93407336b5b86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19da13d95ae7750d2add9706675a0a48"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga19da13d95ae7750d2add9706675a0a48">__spi_isr_full_code</a>(spip)</td></tr>
<tr class="memdesc:ga19da13d95ae7750d2add9706675a0a48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Full buffer filled ISR code in circular mode.  <a href="#ga19da13d95ae7750d2add9706675a0a48">More...</a><br /></td></tr>
<tr class="separator:ga19da13d95ae7750d2add9706675a0a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3fc129a9af11fd2b35f9b1ec56dbeeed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga3fc129a9af11fd2b35f9b1ec56dbeeed">__spi_isr_error_code</a>(spip,  msg)</td></tr>
<tr class="memdesc:ga3fc129a9af11fd2b35f9b1ec56dbeeed"><td class="mdescLeft">&#160;</td><td class="mdescRight">ISR error reporting code..  <a href="#ga3fc129a9af11fd2b35f9b1ec56dbeeed">More...</a><br /></td></tr>
<tr class="separator:ga3fc129a9af11fd2b35f9b1ec56dbeeed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
PLATFORM configuration options</h2></td></tr>
<tr class="memitem:ga92f9392326a7455d6be2ac4ba3a0c4d6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga92f9392326a7455d6be2ac4ba3a0c4d6">PLATFORM_SPI_USE_SPI1</a>&#160;&#160;&#160;FALSE</td></tr>
<tr class="memdesc:ga92f9392326a7455d6be2ac4ba3a0c4d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI1 driver enable switch.  <a href="#ga92f9392326a7455d6be2ac4ba3a0c4d6">More...</a><br /></td></tr>
<tr class="separator:ga92f9392326a7455d6be2ac4ba3a0c4d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gac170ea0e11726c133841f80177376356"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structhal__spi__driver.html">hal_spi_driver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#gac170ea0e11726c133841f80177376356">SPIDriver</a></td></tr>
<tr class="memdesc:gac170ea0e11726c133841f80177376356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a structure representing an SPI driver.  <a href="#gac170ea0e11726c133841f80177376356">More...</a><br /></td></tr>
<tr class="separator:gac170ea0e11726c133841f80177376356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43ac926be3d3d77191af04515c1a5ba5"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structhal__spi__config.html">hal_spi_config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga43ac926be3d3d77191af04515c1a5ba5">SPIConfig</a></td></tr>
<tr class="memdesc:ga43ac926be3d3d77191af04515c1a5ba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a SPI driver configuration structure.  <a href="#ga43ac926be3d3d77191af04515c1a5ba5">More...</a><br /></td></tr>
<tr class="separator:ga43ac926be3d3d77191af04515c1a5ba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga128ba52e15a1446d530616a0cbdc9dfb"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga128ba52e15a1446d530616a0cbdc9dfb">spicb_t</a>) (<a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *spip)</td></tr>
<tr class="memdesc:ga128ba52e15a1446d530616a0cbdc9dfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI notification callback type.  <a href="#ga128ba52e15a1446d530616a0cbdc9dfb">More...</a><br /></td></tr>
<tr class="separator:ga128ba52e15a1446d530616a0cbdc9dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhal__spi__config.html">hal_spi_config</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver configuration structure.  <a href="structhal__spi__config.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhal__spi__driver.html">hal_spi_driver</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing an SPI driver.  <a href="structhal__spi__driver.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5bdaf423b4fa6a78a1689b5a7721ea7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga5bdaf423b4fa6a78a1689b5a7721ea7e">spi_lld_init</a> (void)</td></tr>
<tr class="memdesc:ga5bdaf423b4fa6a78a1689b5a7721ea7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low level SPI driver initialization.  <a href="#ga5bdaf423b4fa6a78a1689b5a7721ea7e">More...</a><br /></td></tr>
<tr class="separator:ga5bdaf423b4fa6a78a1689b5a7721ea7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea195877ef6e3418c52e39a76fce7247"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#gaea195877ef6e3418c52e39a76fce7247">spi_lld_start</a> (<a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *spip)</td></tr>
<tr class="memdesc:gaea195877ef6e3418c52e39a76fce7247"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and activates the SPI peripheral.  <a href="#gaea195877ef6e3418c52e39a76fce7247">More...</a><br /></td></tr>
<tr class="separator:gaea195877ef6e3418c52e39a76fce7247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d6b2e0764d39b892b51e6abe4923f80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga8d6b2e0764d39b892b51e6abe4923f80">spi_lld_stop</a> (<a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *spip)</td></tr>
<tr class="memdesc:ga8d6b2e0764d39b892b51e6abe4923f80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates the SPI peripheral.  <a href="#ga8d6b2e0764d39b892b51e6abe4923f80">More...</a><br /></td></tr>
<tr class="separator:ga8d6b2e0764d39b892b51e6abe4923f80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a671d4e8d120120a26d9bfb0c016507"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga5a671d4e8d120120a26d9bfb0c016507">spi_lld_select</a> (<a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *spip)</td></tr>
<tr class="memdesc:ga5a671d4e8d120120a26d9bfb0c016507"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asserts the slave select signal and prepares for transfers.  <a href="#ga5a671d4e8d120120a26d9bfb0c016507">More...</a><br /></td></tr>
<tr class="separator:ga5a671d4e8d120120a26d9bfb0c016507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa343fd905298991aa4005015263bcd2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#gafa343fd905298991aa4005015263bcd2">spi_lld_unselect</a> (<a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *spip)</td></tr>
<tr class="memdesc:gafa343fd905298991aa4005015263bcd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deasserts the slave select signal.  <a href="#gafa343fd905298991aa4005015263bcd2">More...</a><br /></td></tr>
<tr class="separator:gafa343fd905298991aa4005015263bcd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d6d552a16003f6a4adf6d81a38d5fdd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga7d6d552a16003f6a4adf6d81a38d5fdd">spi_lld_ignore</a> (<a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *spip, size_t n)</td></tr>
<tr class="memdesc:ga7d6d552a16003f6a4adf6d81a38d5fdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ignores data on the SPI bus.  <a href="#ga7d6d552a16003f6a4adf6d81a38d5fdd">More...</a><br /></td></tr>
<tr class="separator:ga7d6d552a16003f6a4adf6d81a38d5fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga402cad8f7029013a9b3298aed422bc6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga402cad8f7029013a9b3298aed422bc6d">spi_lld_exchange</a> (<a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *spip, size_t n, const void *txbuf, void *rxbuf)</td></tr>
<tr class="memdesc:ga402cad8f7029013a9b3298aed422bc6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exchanges data on the SPI bus.  <a href="#ga402cad8f7029013a9b3298aed422bc6d">More...</a><br /></td></tr>
<tr class="separator:ga402cad8f7029013a9b3298aed422bc6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97dc187befdfd0bef879df6e582afe16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga97dc187befdfd0bef879df6e582afe16">spi_lld_send</a> (<a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *spip, size_t n, const void *txbuf)</td></tr>
<tr class="memdesc:ga97dc187befdfd0bef879df6e582afe16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data over the SPI bus.  <a href="#ga97dc187befdfd0bef879df6e582afe16">More...</a><br /></td></tr>
<tr class="separator:ga97dc187befdfd0bef879df6e582afe16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed6bc57219d81f14ccecf8202a017ada"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#gaed6bc57219d81f14ccecf8202a017ada">spi_lld_receive</a> (<a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *spip, size_t n, void *rxbuf)</td></tr>
<tr class="memdesc:gaed6bc57219d81f14ccecf8202a017ada"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives data from the SPI bus.  <a href="#gaed6bc57219d81f14ccecf8202a017ada">More...</a><br /></td></tr>
<tr class="separator:gaed6bc57219d81f14ccecf8202a017ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e6fffd1a86096c5edb8b70723650d33"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga4e6fffd1a86096c5edb8b70723650d33">spi_lld_stop_transfer</a> (<a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *spip, size_t *sizep)</td></tr>
<tr class="memdesc:ga4e6fffd1a86096c5edb8b70723650d33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aborts the ongoing SPI operation, if any.  <a href="#ga4e6fffd1a86096c5edb8b70723650d33">More...</a><br /></td></tr>
<tr class="separator:ga4e6fffd1a86096c5edb8b70723650d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0e1f3dae4d7015a8386c456a06adc86"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#gad0e1f3dae4d7015a8386c456a06adc86">spi_lld_polled_exchange</a> (<a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *spip, uint16_t frame)</td></tr>
<tr class="memdesc:gad0e1f3dae4d7015a8386c456a06adc86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exchanges one frame using a polled wait.  <a href="#gad0e1f3dae4d7015a8386c456a06adc86">More...</a><br /></td></tr>
<tr class="separator:gad0e1f3dae4d7015a8386c456a06adc86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga2570f8c1ee9fc0dceaa8f77b999013c3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga2570f8c1ee9fc0dceaa8f77b999013c3">spistate_t</a> { <br />
&#160;&#160;<a class="el" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3a1f6aeb0405018546d0679b424bfb0f50">SPI_UNINIT</a> = 0, 
<a class="el" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3a22a603b07f381cba1ced3de36a0c3ce7">SPI_STOP</a> = 1, 
<a class="el" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3a2894d6080831bc10e8c6f7c33c60c4ba">SPI_READY</a> = 2, 
<a class="el" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3a11bc2d5065a95dc8d721e2070708ba5f">SPI_ACTIVE</a> = 3, 
<br />
&#160;&#160;<a class="el" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3adc675db1e74eaa1fc21d005d2a066d8f">SPI_COMPLETE</a> = 4, 
<a class="el" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3a1f6aeb0405018546d0679b424bfb0f50">SPI_UNINIT</a> = 0, 
<a class="el" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3a22a603b07f381cba1ced3de36a0c3ce7">SPI_STOP</a> = 1, 
<a class="el" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3a2894d6080831bc10e8c6f7c33c60c4ba">SPI_READY</a> = 2, 
<br />
&#160;&#160;<a class="el" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3a11bc2d5065a95dc8d721e2070708ba5f">SPI_ACTIVE</a> = 3, 
<a class="el" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3adc675db1e74eaa1fc21d005d2a066d8f">SPI_COMPLETE</a> = 4
<br />
 }<tr class="memdesc:ga2570f8c1ee9fc0dceaa8f77b999013c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver state machine possible states.  <a href="group___s_p_i___v2.html#ga2570f8c1ee9fc0dceaa8f77b999013c3">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga2570f8c1ee9fc0dceaa8f77b999013c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga28e6b47f142ac7e4a54b5dbd401a09a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___v2.html#ga28e6b47f142ac7e4a54b5dbd401a09a1">SPID1</a></td></tr>
<tr class="memdesc:ga28e6b47f142ac7e4a54b5dbd401a09a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI1 driver identifier.  <a href="#ga28e6b47f142ac7e4a54b5dbd401a09a1">More...</a><br /></td></tr>
<tr class="separator:ga28e6b47f142ac7e4a54b5dbd401a09a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga1fa10aaaf73f16e11092797153120bf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1fa10aaaf73f16e11092797153120bf8">&#9670;&nbsp;</a></span>SPI_USE_SYNCHRONIZATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_USE_SYNCHRONIZATION&#160;&#160;&#160;FALSE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Support for thread synchronization API. </p>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00060">60</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="ga24f1e6c4916a04f70e268c594faaa227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga24f1e6c4916a04f70e268c594faaa227">&#9670;&nbsp;</a></span>SPI_USE_ASSERT_ON_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_USE_ASSERT_ON_ERROR&#160;&#160;&#160;TRUE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inserts an assertion on function errors before returning. </p>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00070">70</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="ga36d1818f9631f955f7cc94629b1d5498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36d1818f9631f955f7cc94629b1d5498">&#9670;&nbsp;</a></span>SPI_USE_MUTUAL_EXCLUSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_USE_MUTUAL_EXCLUSION&#160;&#160;&#160;TRUE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the <code>spiAcquireBus()</code> and <code>spiReleaseBus()</code> APIs. </p>
<dl class="section note"><dt>Note</dt><dd>Disabling this option saves both code and data space. </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00078">78</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="gabc1c76adbcd61b596f7af3c5448534a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabc1c76adbcd61b596f7af3c5448534a7">&#9670;&nbsp;</a></span>SPI_SELECT_MODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_SELECT_MODE&#160;&#160;&#160;SPI_SELECT_MODE_PAD</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handling method for SPI CS line. </p>
<dl class="section note"><dt>Note</dt><dd>Disabling this option saves both code and data space. </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00086">86</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="gaf074137302f28c85cd2adca27bb44d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf074137302f28c85cd2adca27bb44d7d">&#9670;&nbsp;</a></span>spiIsBufferComplete</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define spiIsBufferComplete</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">spip</td><td>)</td>
          <td>&#160;&#160;&#160;((bool)((spip)-&gt;state == <a class="el" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3adc675db1e74eaa1fc21d005d2a066d8f">SPI_COMPLETE</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer state. </p>
<dl class="section note"><dt>Note</dt><dd>This function is meant to be called from the SPI callback only.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The buffer state. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>if the driver filled/sent the first half of the buffer. </td></tr>
    <tr><td class="paramname">true</td><td>if the driver filled/sent the second half of the buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Special function, this function has special requirements see the notes.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00265">265</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="gafaa8525872ee8cd58ccb3ae6d6f4ce4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafaa8525872ee8cd58ccb3ae6d6f4ce4f">&#9670;&nbsp;</a></span>spiSelectI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define spiSelectI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">spip</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                                        \</div><div class="line">  spi_lld_select(spip);                                                     \</div><div class="line">} <span class="keywordflow">while</span> (<span class="keyword">false</span>)</div></div><!-- fragment -->
<p>Asserts the slave select signal and prepares for transfers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^This is an I-Class API, this function can be invoked from within a system lock zone by both threads and interrupt handlers.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00275">275</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="ga033bf19dba2a6f9d6354bb0240e08a60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga033bf19dba2a6f9d6354bb0240e08a60">&#9670;&nbsp;</a></span>spiUnselectI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define spiUnselectI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">spip</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                                        \</div><div class="line">  spi_lld_unselect(spip);                                                   \</div><div class="line">} <span class="keywordflow">while</span> (<span class="keyword">false</span>)</div></div><!-- fragment -->
<p>Deasserts the slave select signal. </p>
<p>The previously selected peripheral is unselected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^This is an I-Class API, this function can be invoked from within a system lock zone by both threads and interrupt handlers.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00288">288</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="gac372dee6712ea111c1ffabd7ae79908d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac372dee6712ea111c1ffabd7ae79908d">&#9670;&nbsp;</a></span>spiPolledExchange</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define spiPolledExchange</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">spip, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">frame&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group___s_p_i___v2.html#gad0e1f3dae4d7015a8386c456a06adc86">spi_lld_polled_exchange</a>(spip, frame)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exchanges one frame using a polled wait. </p>
<p>This synchronous function exchanges one frame using a polled synchronization method. This function is useful when exchanging small amount of data on high speed channels, usually in this situation is much more efficient just wait for completion using polling than suspending the thread waiting for an interrupt. </p><dl class="section note"><dt>Note</dt><dd>This API is implemented as a macro in order to minimize latency.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frame</td><td>the data frame to send over the SPI bus </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The received data frame from the SPI bus. </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00345">345</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="ga8991f2c7a60f341649049de12e7e8a29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8991f2c7a60f341649049de12e7e8a29">&#9670;&nbsp;</a></span>spiAbortI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define spiAbortI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">spip</td><td>)</td>
          <td>&#160;&#160;&#160;spiStopTransferI(spip, NULL)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compatibility API with SPI driver v1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^This is an I-Class API, this function can be invoked from within a system lock zone by both threads and interrupt handlers.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00354">354</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="ga47f04ac40972def8e20c4b62393b37d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga47f04ac40972def8e20c4b62393b37d8">&#9670;&nbsp;</a></span>spiAbort</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define spiAbort</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">spip</td><td>)</td>
          <td>&#160;&#160;&#160;spiStopTransfer(spip, NULL)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compatibility API with SPI driver v1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Normal API, this function can be invoked by regular system threads but not from within a lock zone.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00363">363</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="ga39bef3257e2f45227bd45d377306cc3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39bef3257e2f45227bd45d377306cc3b">&#9670;&nbsp;</a></span>__spi_wakeup_isr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __spi_wakeup_isr</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">spip, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                       \</div><div class="line">  osalSysLockFromISR();                                                     \</div><div class="line">  osalThreadResumeI(&amp;(spip)-&gt;sync_transfer, MSG_OK);                        \</div><div class="line">  osalSysUnlockFromISR();                                                   \</div><div class="line">}</div></div><!-- fragment -->
<p>Wakes up the waiting thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>wakeup message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Not an API, this function is for internal use only.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00379">379</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="ga096dc303583886fbd1ba9f2322ac4ed2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga096dc303583886fbd1ba9f2322ac4ed2">&#9670;&nbsp;</a></span>__spi_isr_complete_code</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __spi_isr_complete_code</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">spip</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                     \</div><div class="line">  if ((spip)-&gt;config-&gt;data_cb) {                                            \</div><div class="line">    (spip)-&gt;state = <a class="code" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3adc675db1e74eaa1fc21d005d2a066d8f">SPI_COMPLETE</a>;                                           \</div><div class="line">    (spip)-&gt;config-&gt;data_cb(spip);                                          \</div><div class="line">    if ((spip)-&gt;state == <a class="code" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3adc675db1e74eaa1fc21d005d2a066d8f">SPI_COMPLETE</a>)                                      \</div><div class="line">      (spip)-&gt;state = <a class="code" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3a2894d6080831bc10e8c6f7c33c60c4ba">SPI_READY</a>;                                            \</div><div class="line">  }                                                                         \</div><div class="line">  else {                                                                    \</div><div class="line">    (spip)-&gt;state = <a class="code" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3a2894d6080831bc10e8c6f7c33c60c4ba">SPI_READY</a>;                                              \</div><div class="line">  }                                                                         \</div><div class="line">  __spi_wakeup_isr(spip, MSG_OK);                                           \</div><div class="line">}</div><div class="ttc" id="group___s_p_i___v2_html_gga2570f8c1ee9fc0dceaa8f77b999013c3adc675db1e74eaa1fc21d005d2a066d8f"><div class="ttname"><a href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3adc675db1e74eaa1fc21d005d2a066d8f">SPI_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="hal__spi__v2_8h_source.html#l00123">hal_spi_v2.h:123</a></div></div>
<div class="ttc" id="group___s_p_i___v2_html_gga2570f8c1ee9fc0dceaa8f77b999013c3a2894d6080831bc10e8c6f7c33c60c4ba"><div class="ttname"><a href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3a2894d6080831bc10e8c6f7c33c60c4ba">SPI_READY</a></div><div class="ttdef"><b>Definition:</b> <a href="hal__spi__v2_8h_source.html#l00121">hal_spi_v2.h:121</a></div></div>
</div><!-- fragment -->
<p>Common ISR code in linear mode. </p>
<p>This code handles the portable part of the ISR code:</p><ul>
<li>Callback invocation.</li>
<li>Waiting thread wakeup, if any.</li>
<li>Driver state transitions.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This macro is meant to be used in the low level drivers implementation only.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Not an API, this function is for internal use only.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00402">402</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="ga72ef23301db126a902f93407336b5b86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72ef23301db126a902f93407336b5b86">&#9670;&nbsp;</a></span>__spi_isr_half_code</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __spi_isr_half_code</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">spip</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                         \</div><div class="line">  if ((spip)-&gt;config-&gt;data_cb) {                                            \</div><div class="line">    (spip)-&gt;config-&gt;data_cb(spip);                                          \</div><div class="line">  }                                                                         \</div><div class="line">}</div></div><!-- fragment -->
<p>Half buffer filled ISR code in circular mode. </p>
<p>This code handles the portable part of the ISR code:</p><ul>
<li>Callback invocation.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This macro is meant to be used in the low level drivers implementation only.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Not an API, this function is for internal use only.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00427">427</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="ga19da13d95ae7750d2add9706675a0a48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga19da13d95ae7750d2add9706675a0a48">&#9670;&nbsp;</a></span>__spi_isr_full_code</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __spi_isr_full_code</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">spip</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                         \</div><div class="line">  if ((spip)-&gt;config-&gt;data_cb) {                                            \</div><div class="line">    (spip)-&gt;state = <a class="code" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3adc675db1e74eaa1fc21d005d2a066d8f">SPI_COMPLETE</a>;                                           \</div><div class="line">    (spip)-&gt;config-&gt;data_cb(spip);                                          \</div><div class="line">    if ((spip)-&gt;state == <a class="code" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3adc675db1e74eaa1fc21d005d2a066d8f">SPI_COMPLETE</a>) {                                    \</div><div class="line">      (spip)-&gt;state = <a class="code" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3a11bc2d5065a95dc8d721e2070708ba5f">SPI_ACTIVE</a>;                                           \</div><div class="line">    }                                                                       \</div><div class="line">  }                                                                         \</div><div class="line">}</div><div class="ttc" id="group___s_p_i___v2_html_gga2570f8c1ee9fc0dceaa8f77b999013c3adc675db1e74eaa1fc21d005d2a066d8f"><div class="ttname"><a href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3adc675db1e74eaa1fc21d005d2a066d8f">SPI_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="hal__spi__v2_8h_source.html#l00123">hal_spi_v2.h:123</a></div></div>
<div class="ttc" id="group___s_p_i___v2_html_gga2570f8c1ee9fc0dceaa8f77b999013c3a11bc2d5065a95dc8d721e2070708ba5f"><div class="ttname"><a href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3a11bc2d5065a95dc8d721e2070708ba5f">SPI_ACTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="hal__spi__v2_8h_source.html#l00122">hal_spi_v2.h:122</a></div></div>
</div><!-- fragment -->
<p>Full buffer filled ISR code in circular mode. </p>
<p>This code handles the portable part of the ISR code:</p><ul>
<li>Callback invocation.</li>
<li>Driver state transitions.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This macro is meant to be used in the low level drivers implementation only.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Not an API, this function is for internal use only.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00446">446</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="ga3fc129a9af11fd2b35f9b1ec56dbeeed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3fc129a9af11fd2b35f9b1ec56dbeeed">&#9670;&nbsp;</a></span>__spi_isr_error_code</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __spi_isr_error_code</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">spip, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                   \</div><div class="line">  if ((spip)-&gt;config-&gt;error_cb) {                                           \</div><div class="line">    (spip)-&gt;config-&gt;error_cb(spip);                                         \</div><div class="line">  }                                                                         \</div><div class="line">  __spi_wakeup_isr(spip, msg);                                              \</div><div class="line">}</div></div><!-- fragment -->
<p>ISR error reporting code.. </p>
<dl class="section note"><dt>Note</dt><dd>This macro is meant to be used in the low level drivers implementation only.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>error code</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Not an API, this function is for internal use only.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00466">466</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="gad5658f8f57e1afda65980bbe74f609bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5658f8f57e1afda65980bbe74f609bf">&#9670;&nbsp;</a></span>SPI_SUPPORTS_CIRCULAR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_SUPPORTS_CIRCULAR&#160;&#160;&#160;TRUE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Circular mode support flag. </p>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8h_source.html#l00037">37</a> of file <a class="el" href="hal__spi__v2__lld_8h_source.html">hal_spi_v2_lld.h</a>.</p>

</div>
</div>
<a id="ga6216f65f528c11208a3a200f5e09aaf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6216f65f528c11208a3a200f5e09aaf4">&#9670;&nbsp;</a></span>SPI_SUPPORTS_SLAVE_MODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_SUPPORTS_SLAVE_MODE&#160;&#160;&#160;TRUE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Slave mode support flag. </p>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8h_source.html#l00042">42</a> of file <a class="el" href="hal__spi__v2__lld_8h_source.html">hal_spi_v2_lld.h</a>.</p>

</div>
</div>
<a id="ga92f9392326a7455d6be2ac4ba3a0c4d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92f9392326a7455d6be2ac4ba3a0c4d6">&#9670;&nbsp;</a></span>PLATFORM_SPI_USE_SPI1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PLATFORM_SPI_USE_SPI1&#160;&#160;&#160;FALSE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI1 driver enable switch. </p>
<p>If set to <code>TRUE</code> the support for SPI1 is included. </p><dl class="section note"><dt>Note</dt><dd>The default is <code>FALSE</code>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8h_source.html#l00058">58</a> of file <a class="el" href="hal__spi__v2__lld_8h_source.html">hal_spi_v2_lld.h</a>.</p>

</div>
</div>
<a id="ga2fcbecd2001068310c16ec54eb9a503f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2fcbecd2001068310c16ec54eb9a503f">&#9670;&nbsp;</a></span>spi_lld_driver_fields</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define spi_lld_driver_fields</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="comment">/* Dummy field, it is not needed.*/</span>                                       \</div><div class="line">  uint32_t                  dummy</div></div><!-- fragment -->
<p>Low level fields of the SPI driver structure. </p>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8h_source.html#l00077">77</a> of file <a class="el" href="hal__spi__v2__lld_8h_source.html">hal_spi_v2_lld.h</a>.</p>

</div>
</div>
<a id="ga6f7e91c332b829b49f292ca2d2a5248f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6f7e91c332b829b49f292ca2d2a5248f">&#9670;&nbsp;</a></span>spi_lld_config_fields</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define spi_lld_config_fields</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="comment">/* Dummy configuration, it is not needed.*/</span>                               \</div><div class="line">  uint32_t                  dummy</div></div><!-- fragment -->
<p>Low level fields of the SPI configuration structure. </p>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8h_source.html#l00084">84</a> of file <a class="el" href="hal__spi__v2__lld_8h_source.html">hal_spi_v2_lld.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gac170ea0e11726c133841f80177376356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac170ea0e11726c133841f80177376356">&#9670;&nbsp;</a></span>SPIDriver</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structhal__spi__driver.html">hal_spi_driver</a> <a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a structure representing an SPI driver. </p>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00129">129</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="ga43ac926be3d3d77191af04515c1a5ba5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43ac926be3d3d77191af04515c1a5ba5">&#9670;&nbsp;</a></span>SPIConfig</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structhal__spi__config.html">hal_spi_config</a> <a class="el" href="group___s_p_i___v1.html#ga43ac926be3d3d77191af04515c1a5ba5">SPIConfig</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a SPI driver configuration structure. </p>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00134">134</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<a id="ga128ba52e15a1446d530616a0cbdc9dfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga128ba52e15a1446d530616a0cbdc9dfb">&#9670;&nbsp;</a></span>spicb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* spicb_t) (<a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *spip)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI notification callback type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object triggering the callback </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00142">142</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga2570f8c1ee9fc0dceaa8f77b999013c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2570f8c1ee9fc0dceaa8f77b999013c3">&#9670;&nbsp;</a></span>spistate_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___s_p_i___v1.html#ga2570f8c1ee9fc0dceaa8f77b999013c3">spistate_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Driver state machine possible states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga2570f8c1ee9fc0dceaa8f77b999013c3a1f6aeb0405018546d0679b424bfb0f50"></a>SPI_UNINIT&#160;</td><td class="fielddoc"><p>Not initialized. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2570f8c1ee9fc0dceaa8f77b999013c3a22a603b07f381cba1ced3de36a0c3ce7"></a>SPI_STOP&#160;</td><td class="fielddoc"><p>Stopped. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2570f8c1ee9fc0dceaa8f77b999013c3a2894d6080831bc10e8c6f7c33c60c4ba"></a>SPI_READY&#160;</td><td class="fielddoc"><p>Ready. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2570f8c1ee9fc0dceaa8f77b999013c3a11bc2d5065a95dc8d721e2070708ba5f"></a>SPI_ACTIVE&#160;</td><td class="fielddoc"><p>Exchanging data. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2570f8c1ee9fc0dceaa8f77b999013c3adc675db1e74eaa1fc21d005d2a066d8f"></a>SPI_COMPLETE&#160;</td><td class="fielddoc"><p>Asynchronous operation complete. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2570f8c1ee9fc0dceaa8f77b999013c3a1f6aeb0405018546d0679b424bfb0f50"></a>SPI_UNINIT&#160;</td><td class="fielddoc"><p>Not initialized. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2570f8c1ee9fc0dceaa8f77b999013c3a22a603b07f381cba1ced3de36a0c3ce7"></a>SPI_STOP&#160;</td><td class="fielddoc"><p>Stopped. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2570f8c1ee9fc0dceaa8f77b999013c3a2894d6080831bc10e8c6f7c33c60c4ba"></a>SPI_READY&#160;</td><td class="fielddoc"><p>Ready. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2570f8c1ee9fc0dceaa8f77b999013c3a11bc2d5065a95dc8d721e2070708ba5f"></a>SPI_ACTIVE&#160;</td><td class="fielddoc"><p>Exchanging data. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2570f8c1ee9fc0dceaa8f77b999013c3adc675db1e74eaa1fc21d005d2a066d8f"></a>SPI_COMPLETE&#160;</td><td class="fielddoc"><p>Asynchronous operation complete. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2_8h_source.html#l00118">118</a> of file <a class="el" href="hal__spi__v2_8h_source.html">hal_spi_v2.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5bdaf423b4fa6a78a1689b5a7721ea7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5bdaf423b4fa6a78a1689b5a7721ea7e">&#9670;&nbsp;</a></span>spi_lld_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_lld_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Low level SPI driver initialization. </p>
<dl class="section user"><dt>Function Class:^^Not an API, this function is for internal use only.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8c_source.html#l00065">65</a> of file <a class="el" href="hal__spi__v2__lld_8c_source.html">hal_spi_v2_lld.c</a>.</p>

</div>
</div>
<a id="gaea195877ef6e3418c52e39a76fce7247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea195877ef6e3418c52e39a76fce7247">&#9670;&nbsp;</a></span>spi_lld_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> spi_lld_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *&#160;</td>
          <td class="paramname"><em>spip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures and activates the SPI peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status.</dd></dl>
<dl class="section user"><dt>Function Class:^^Not an API, this function is for internal use only.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8c_source.html#l00081">81</a> of file <a class="el" href="hal__spi__v2__lld_8c_source.html">hal_spi_v2_lld.c</a>.</p>

<p class="reference">References <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3a22a603b07f381cba1ced3de36a0c3ce7">SPI_STOP</a>, and <a class="el" href="structhal__spi__driver.html#af19e64dfd3dd7146ff92ac566e002a8a">hal_spi_driver::state</a>.</p>

</div>
</div>
<a id="ga8d6b2e0764d39b892b51e6abe4923f80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8d6b2e0764d39b892b51e6abe4923f80">&#9670;&nbsp;</a></span>spi_lld_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_lld_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *&#160;</td>
          <td class="paramname"><em>spip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivates the SPI peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Not an API, this function is for internal use only.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8c_source.html#l00110">110</a> of file <a class="el" href="hal__spi__v2__lld_8c_source.html">hal_spi_v2_lld.c</a>.</p>

<p class="reference">References <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="group___s_p_i___v2.html#gga2570f8c1ee9fc0dceaa8f77b999013c3a2894d6080831bc10e8c6f7c33c60c4ba">SPI_READY</a>, and <a class="el" href="structhal__spi__driver.html#af19e64dfd3dd7146ff92ac566e002a8a">hal_spi_driver::state</a>.</p>

</div>
</div>
<a id="ga5a671d4e8d120120a26d9bfb0c016507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a671d4e8d120120a26d9bfb0c016507">&#9670;&nbsp;</a></span>spi_lld_select()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_lld_select </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *&#160;</td>
          <td class="paramname"><em>spip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asserts the slave select signal and prepares for transfers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Not an API, this function is for internal use only.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8c_source.html#l00138">138</a> of file <a class="el" href="hal__spi__v2__lld_8c_source.html">hal_spi_v2_lld.c</a>.</p>

</div>
</div>
<a id="gafa343fd905298991aa4005015263bcd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafa343fd905298991aa4005015263bcd2">&#9670;&nbsp;</a></span>spi_lld_unselect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_lld_unselect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *&#160;</td>
          <td class="paramname"><em>spip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deasserts the slave select signal. </p>
<p>The previously selected peripheral is unselected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:^^Not an API, this function is for internal use only.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8c_source.html#l00151">151</a> of file <a class="el" href="hal__spi__v2__lld_8c_source.html">hal_spi_v2_lld.c</a>.</p>

</div>
</div>
<a id="ga7d6d552a16003f6a4adf6d81a38d5fdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d6d552a16003f6a4adf6d81a38d5fdd">&#9670;&nbsp;</a></span>spi_lld_ignore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> spi_lld_ignore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *&#160;</td>
          <td class="paramname"><em>spip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ignores data on the SPI bus. </p>
<p>This synchronous function performs the transmission of a series of idle words on the SPI bus and ignores the received data. </p><dl class="section pre"><dt>Precondition</dt><dd>In order to use this function the option <code>SPI_USE_SYNCHRONIZATION</code> must be enabled.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>number of words to be ignored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status.</dd></dl>
<dl class="section user"><dt>Function Class:^^Not an API, this function is for internal use only.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8c_source.html#l00170">170</a> of file <a class="el" href="hal__spi__v2__lld_8c_source.html">hal_spi_v2_lld.c</a>.</p>

</div>
</div>
<a id="ga402cad8f7029013a9b3298aed422bc6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga402cad8f7029013a9b3298aed422bc6d">&#9670;&nbsp;</a></span>spi_lld_exchange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> spi_lld_exchange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *&#160;</td>
          <td class="paramname"><em>spip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>txbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rxbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exchanges data on the SPI bus. </p>
<p>This asynchronous function starts a simultaneous transmit/receive operation. </p><dl class="section post"><dt>Postcondition</dt><dd>At the end of the operation the configured callback is invoked. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The buffers are organized as uint8_t arrays for data sizes below or equal to 8 bits else it is organized as uint16_t arrays.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>number of words to be exchanged </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txbuf</td><td>the pointer to the transmit buffer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxbuf</td><td>the pointer to the receive buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status.</dd></dl>
<dl class="section user"><dt>Function Class:^^Not an API, this function is for internal use only.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8c_source.html#l00194">194</a> of file <a class="el" href="hal__spi__v2__lld_8c_source.html">hal_spi_v2_lld.c</a>.</p>

</div>
</div>
<a id="ga97dc187befdfd0bef879df6e582afe16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga97dc187befdfd0bef879df6e582afe16">&#9670;&nbsp;</a></span>spi_lld_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> spi_lld_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *&#160;</td>
          <td class="paramname"><em>spip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>txbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends data over the SPI bus. </p>
<p>This asynchronous function starts a transmit operation. </p><dl class="section post"><dt>Postcondition</dt><dd>At the end of the operation the configured callback is invoked. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The buffers are organized as uint8_t arrays for data sizes below or equal to 8 bits else it is organized as uint16_t arrays.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>number of words to send </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txbuf</td><td>the pointer to the transmit buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status.</dd></dl>
<dl class="section user"><dt>Function Class:^^Not an API, this function is for internal use only.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8c_source.html#l00219">219</a> of file <a class="el" href="hal__spi__v2__lld_8c_source.html">hal_spi_v2_lld.c</a>.</p>

</div>
</div>
<a id="gaed6bc57219d81f14ccecf8202a017ada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaed6bc57219d81f14ccecf8202a017ada">&#9670;&nbsp;</a></span>spi_lld_receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> spi_lld_receive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *&#160;</td>
          <td class="paramname"><em>spip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rxbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives data from the SPI bus. </p>
<p>This asynchronous function starts a receive operation. </p><dl class="section post"><dt>Postcondition</dt><dd>At the end of the operation the configured callback is invoked. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The buffers are organized as uint8_t arrays for data sizes below or equal to 8 bits else it is organized as uint16_t arrays.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>number of words to receive </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxbuf</td><td>the pointer to the receive buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status.</dd></dl>
<dl class="section user"><dt>Function Class:^^Not an API, this function is for internal use only.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8c_source.html#l00242">242</a> of file <a class="el" href="hal__spi__v2__lld_8c_source.html">hal_spi_v2_lld.c</a>.</p>

</div>
</div>
<a id="ga4e6fffd1a86096c5edb8b70723650d33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4e6fffd1a86096c5edb8b70723650d33">&#9670;&nbsp;</a></span>spi_lld_stop_transfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> spi_lld_stop_transfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *&#160;</td>
          <td class="paramname"><em>spip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>sizep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aborts the ongoing SPI operation, if any. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sizep</td><td>pointer to the counter of frames not yet transferred or <code>NULL</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status.</dd></dl>
<dl class="section user"><dt>Function Class:^^Not an API, this function is for internal use only.</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8c_source.html#l00261">261</a> of file <a class="el" href="hal__spi__v2__lld_8c_source.html">hal_spi_v2_lld.c</a>.</p>

</div>
</div>
<a id="gad0e1f3dae4d7015a8386c456a06adc86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad0e1f3dae4d7015a8386c456a06adc86">&#9670;&nbsp;</a></span>spi_lld_polled_exchange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t spi_lld_polled_exchange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> *&#160;</td>
          <td class="paramname"><em>spip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exchanges one frame using a polled wait. </p>
<p>This synchronous function exchanges one frame using a polled synchronization method. This function is useful when exchanging small amount of data on high speed channels, usually in this situation is much more efficient just wait for completion using polling than suspending the thread waiting for an interrupt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spip</td><td>pointer to the <code>SPIDriver</code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frame</td><td>the data frame to send over the SPI bus </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The received data frame from the SPI bus. </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8c_source.html#l00281">281</a> of file <a class="el" href="hal__spi__v2__lld_8c_source.html">hal_spi_v2_lld.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga28e6b47f142ac7e4a54b5dbd401a09a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga28e6b47f142ac7e4a54b5dbd401a09a1">&#9670;&nbsp;</a></span>SPID1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___s_p_i___v1.html#gac170ea0e11726c133841f80177376356">SPIDriver</a> SPID1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI1 driver identifier. </p>

<p class="definition">Definition at line <a class="el" href="hal__spi__v2__lld_8c_source.html#l00041">41</a> of file <a class="el" href="hal__spi__v2__lld_8c_source.html">hal_spi_v2_lld.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Mar 3 2022 18:14:25 for ChibiOS/HAL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
